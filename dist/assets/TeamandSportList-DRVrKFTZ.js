import{r as o,b as T,j as t}from"./index-CWAKtwDc.js";import{A as l}from"./constants-C9Jc7q6O.js";import{N as C}from"./NavBar-BCewT0HR.js";const R=()=>{const[h,x]=o.useState([]),[f,p]=o.useState([]),[b,g]=o.useState([]),[c,j]=o.useState(null),[i,m]=o.useState(null),[s,u]=o.useState(null),[y,n]=o.useState(!0),v=T();o.useEffect(()=>{const e=async()=>{try{const d=await(await fetch(`${l}/sports`)).json();x(d.sports),n(!1)}catch(r){console.error("Error fetching sports:",r),n(!1)}},a=async()=>{try{const d=await(await fetch(`${l}/teams`)).json();p(d),n(!1)}catch(r){console.error("Error fetching teams:",r),n(!1)}};e(),a()},[]),o.useEffect(()=>{(async()=>{try{const r=await(await fetch(`${l}/articles`)).json();g(r),n(!1)}catch(a){console.error("Error fetching articles:",a),n(!1)}})()},[]);const w=e=>{j(e),m(null)},N=e=>{m(e)},S=b.filter(e=>e.sport.name===c&&e.teams.some(a=>a.name===i)),A=async e=>{try{const r=await(await fetch(`${l}/articles/${e.id}`)).json();u(r),document.body.style.overflow="hidden"}catch(a){console.error("Error fetching article details:",a)}},E=()=>{u(null),document.body.style.overflow="auto"};return t.jsxs("div",{children:[v.pathname==="/teams"&&t.jsx(C,{}),t.jsxs("div",{className:"mb-4",children:[t.jsx("h1",{className:"bg-gray-800 text-white text-2xl font-bold flex justify-center p-2 rounded-lg m-2",children:"Select your Favorite Team"}),t.jsxs("select",{value:c||"",onChange:e=>w(e.target.value),className:"p-2 border border-gray-300 rounded w-full",children:[t.jsx("option",{value:"",disabled:!0,children:"Select Sport"}),h.map(e=>t.jsx("option",{value:e.name,children:e.name},e.id))]})]}),t.jsxs("div",{children:[t.jsx("h1",{className:"bg-gray-800 text-white text-xl font-bold p-2 text-center rounded-lg mb-4",children:"Team List"}),t.jsxs("select",{value:i||"",onChange:e=>N(e.target.value),className:"p-2 border border-gray-300 rounded w-full",children:[t.jsx("option",{value:"",disabled:!0,children:"Select Team"}),f.filter(e=>e.plays===c).map(e=>t.jsx("option",{value:e.name,children:e.name},e.id))]})]}),t.jsxs("div",{children:[t.jsx("h1",{className:"bg-gray-800 text-white text-xl font-bold p-1 text-center rounded-lg mb-4 mt-2",children:"Articles of your favourite team"}),t.jsxs("div",{children:[y&&t.jsx("p",{children:"Loading..."}),S.map(e=>t.jsxs("div",{className:"p-2 border border-gray-300 rounded mb-2",children:[t.jsx("h2",{className:"text-lg font-semibold",children:e.title}),t.jsx("p",{children:e.summary}),t.jsx("button",{onClick:()=>A(e),className:"bg-blue-600 text-white px-2 py-1 rounded-md text-sm hover:bg-blue-700 focus:outline-none focus:ring focus:border-blue-300",children:"Read more"})]},e.id))]})]}),t.jsx("div",{className:`fixed top-0 left-0 w-full h-full overflow-y-auto flex items-center justify-center bg-black bg-opacity-50 transition-opacity ${s?"opacity-100":"opacity-0 pointer-events-none"}`,children:t.jsx("div",{className:"bg-gray-300 rounded p-6 max-w-2xl mx-auto my-8 max-h-full overflow-y-auto",children:s&&t.jsxs(t.Fragment,{children:[t.jsx("img",{src:s.thumbnail,alt:s.title,className:"mb-4 rounded-lg w-full h-40 object-cover"}),t.jsx("h2",{className:"text-2xl font-bold mb-4",children:s.title}),t.jsx("p",{className:"mb-4",children:s.content}),t.jsxs("p",{className:"font-semibold",children:["Ends at: ",new Date(s.date).toLocaleString()]}),s.teams.length>0&&t.jsxs("div",{className:"flex justify-between items-center mt-2",children:[t.jsx("p",{className:"font-semibold",children:"Teams:"}),t.jsx("div",{className:"flex flex-wrap gap-1",children:s.teams.map(e=>t.jsx("span",{className:"bg-gray-200 px-2 py-1 rounded",children:e.name},e.id))})]}),t.jsx("button",{onClick:E,className:"bg-red-500 text-white px-4 py-2 mt-3 rounded-md hover:bg-red-700 focus:outline-none focus:ring focus:border-red-300",children:"Close"})]})})})]})};export{R as default};
