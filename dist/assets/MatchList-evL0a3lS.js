import{r as o,b as M,j as e,A as u}from"./index-zUvurxNo.js";import{a as S,N as L}from"./NavBar-DK3-NYlL.js";import{L as $}from"./LiveMatches-drAqhIZO.js";import{f}from"./dateUtils-gG17I_SJ.js";const O=()=>{const[r,p]=o.useState([]),[a,i]=o.useState(null),[b,d]=o.useState(!1),[n,g]=o.useState(null),[j,h]=o.useState(!0),{t,i18n:m}=S(),x=M();o.useEffect(()=>{(async()=>{try{const c=await(await fetch(`${u}/matches`)).json();p(c.matches),h(!1)}catch(l){console.error("Error fetching matches:",l),h(!1)}})()},[]);const y=s=>{g(s===n?null:s)},N=async s=>{try{const c=await(await fetch(`${u}/matches/${s}`)).json();i(c),d(!0),document.body.style.overflow="hidden"}catch(l){console.error("Error fetching match details:",l)}},v=()=>{i(null),d(!1),document.body.style.overflow="auto"},w=n?r.filter(s=>s.sportName===n):r;return e.jsxs("div",{children:[x.pathname==="/matches"&&e.jsx(L,{}),e.jsx("h1",{className:"bg-gray-800 text-white text-2xl font-bold flex justify-center p-2 rounded-lg m-2",children:t("Match List")}),e.jsxs("div",{className:"bg-yellow-200 rounded-lg p-4 m-2 shadow-md",children:[x.pathname==="/matches"&&e.jsx($,{}),e.jsxs("div",{className:"flex flex-wrap gap-4 mb-4 flex justify-center",children:[j&&e.jsx("p",{children:"Loading..."}),Array.from(new Set(r.map(s=>s.sportName))).map(s=>e.jsx("button",{onClick:()=>y(s),className:`px-6 py-3 rounded-md ${n===s?"bg-blue-600 text-white font-semibold":"bg-gray-400 text-gray-800 font-semibold"} hover:bg-blue-600 focus:outline-none focus:ring focus:border-blue-300`,children:t(`${s}`)},s))]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:w.map(s=>e.jsxs("div",{className:"bg-white rounded p-4 shadow-md relative",children:[s.isRunning&&e.jsx("div",{className:"flex absolute top-0 right-0 p-1 text-red-500 font-bold rounded-full",children:"●Live"}),e.jsx("h2",{className:"text-2xl font-semibold mb-2",children:t(`${s.sportName}`)}),e.jsx("h2",{className:"text-xl font-semibold mb-2",children:s.name}),e.jsx("p",{className:"text-gray-600",children:s.location}),e.jsx("button",{onClick:()=>N(s.id),className:"bg-blue-500 text-white px-3 py-1 rounded-md mt-4 hover:bg-blue-700 focus:outline-none focus:ring focus:border-blue-300",children:t("Read more")})]},s.id))})]}),a&&e.jsx("div",{className:`fixed top-0 left-0 w-full h-full overflow-y-auto flex items-center justify-center bg-black bg-opacity-50 transition-opacity duration-300 ${b?"opacity-100":"opacity-0 pointer-events-none"}`,children:e.jsxs("div",{className:"bg-gray-300 rounded p-6 max-w-2xl mx-auto my-8 max-h-full overflow-y-auto",children:[e.jsxs("h2",{className:"text-2xl font-bold mb-2",children:[e.jsxs("b",{children:[e.jsx("u",{children:t("Match")})," - "]}),a.name]}),e.jsx("hr",{}),e.jsx("ul",{className:"flex justify-center",children:Object.entries(a.score).map(([s,l])=>e.jsxs("li",{className:"text-lg m-3",children:["● ",s," - ",l]},s))}),e.jsxs("p",{className:"text-lg",children:[e.jsxs("b",{children:[t("Location"),": "]})," ",a.location]}),e.jsxs("p",{className:"text-lg",children:[e.jsxs("b",{children:[t("Starts at"),": "]})," ",f(a.startsAt,m.language)]}),e.jsxs("p",{className:"text-lg",children:[e.jsxs("b",{children:[t("Ends at"),": "]})," ",f(a.endsAt,m.language)]}),e.jsxs("p",{className:"text-lg",children:[e.jsxs("b",{children:[t("Sport"),":"]})," ",t(`${a.sportName}`)]}),e.jsx("p",{className:"text-lg",children:e.jsxs("b",{children:[t("Story"),":"]})}),e.jsx("p",{className:"",children:a.story}),e.jsx("button",{onClick:v,className:"bg-red-600 text-white px-4 py-2 rounded-md mt-4 hover:bg-red-700 focus:outline-none focus:ring focus:border-red-300",children:t("Close")})]})})]})};export{O as default};
