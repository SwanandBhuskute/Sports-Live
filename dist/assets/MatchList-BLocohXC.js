import{r as l,b as N,j as e}from"./index-CbRCAM3Q.js";import{A as x}from"./constants-C9Jc7q6O.js";import{N as w}from"./NavBar-EkK_mEt3.js";import{L as v}from"./LiveMatches-HU4xb1LZ.js";const E=()=>{const[n,m]=l.useState([]),[t,c]=l.useState(null),[u,i]=l.useState(!1),[o,f]=l.useState(null),[p,d]=l.useState(!0),h=N();l.useEffect(()=>{(async()=>{try{const r=await(await fetch(`${x}/matches`)).json();m(r.matches),d(!1)}catch(a){console.error("Error fetching matches:",a),d(!1)}})()},[]);const b=s=>{f(s===o?null:s)},g=async s=>{try{const r=await(await fetch(`${x}/matches/${s}`)).json();c(r),i(!0),document.body.style.overflow="hidden"}catch(a){console.error("Error fetching match details:",a)}},j=()=>{c(null),i(!1),document.body.style.overflow="auto"},y=o?n.filter(s=>s.sportName===o):n;return e.jsxs("div",{children:[h.pathname==="/matches"&&e.jsx(w,{}),e.jsx("h1",{className:"bg-gray-800 text-white text-2xl font-bold flex justify-center p-2 rounded-lg m-2",children:"Match List"}),e.jsxs("div",{className:"bg-yellow-200 rounded-lg p-4 m-2 shadow-md",children:[h.pathname==="/matches"&&e.jsx(v,{}),e.jsxs("div",{className:"flex flex-wrap gap-4 mb-4 flex justify-center",children:[p&&e.jsx("p",{children:"Loading..."}),Array.from(new Set(n.map(s=>s.sportName))).map(s=>e.jsx("button",{onClick:()=>b(s),className:`px-6 py-3 rounded-md ${o===s?"bg-blue-600 text-white font-semibold":"bg-gray-400 text-gray-800 font-semibold"} hover:bg-blue-600 focus:outline-none focus:ring focus:border-blue-300`,children:s},s))]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:y.map(s=>e.jsxs("div",{className:"bg-white rounded p-4 shadow-md relative",children:[s.isRunning&&e.jsx("div",{className:"flex absolute top-0 right-0 p-1 text-red-500 font-bold rounded-full",children:"●Live"}),e.jsx("h2",{className:"text-2xl font-semibold mb-2",children:s.sportName}),e.jsx("h2",{className:"text-xl font-semibold mb-2",children:s.name}),e.jsx("p",{className:"text-gray-600",children:s.location}),e.jsx("button",{onClick:()=>g(s.id),className:"bg-blue-500 text-white px-3 py-1 rounded-md mt-4 hover:bg-blue-700 focus:outline-none focus:ring focus:border-blue-300",children:"Read More"})]},s.id))})]}),t&&e.jsx("div",{className:`fixed top-0 left-0 w-full h-full overflow-y-auto flex items-center justify-center bg-black bg-opacity-50 transition-opacity duration-300 ${u?"opacity-100":"opacity-0 pointer-events-none"}`,children:e.jsxs("div",{className:"bg-gray-300 rounded p-6 max-w-2xl mx-auto my-8 max-h-full overflow-y-auto",children:[e.jsxs("h2",{className:"text-2xl font-bold mb-2",children:[e.jsxs("b",{children:[e.jsx("u",{children:"Match"})," - "]}),t.name]}),e.jsx("hr",{}),e.jsx("ul",{className:"flex justify-center",children:Object.entries(t.score).map(([s,a])=>e.jsxs("li",{className:"text-lg m-3",children:["● ",s," - ",a]},s))}),e.jsxs("p",{className:"text-lg",children:[e.jsx("b",{children:"Location: "})," ",t.location]}),e.jsxs("p",{className:"text-lg",children:[e.jsx("b",{children:"Starts At: "})," ",new Date(t.startsAt).toLocaleString()]}),e.jsxs("p",{className:"text-lg",children:[e.jsx("b",{children:"Ends At: "}),new Date(t.endsAt).toLocaleString()]}),e.jsxs("p",{className:"text-lg",children:[e.jsx("b",{children:"Sport:"})," ",t.sportName]}),e.jsx("p",{className:"text-lg",children:e.jsx("b",{children:"Story:"})}),e.jsx("p",{className:"",children:t.story}),e.jsx("button",{onClick:j,className:"bg-red-600 text-white px-4 py-2 rounded-md mt-4 hover:bg-red-700 focus:outline-none focus:ring focus:border-red-300",children:"Close"})]})})]})};export{E as default};
